{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst form = document.querySelector('#form-search');\nconst input = document.querySelector('#input-search');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst API_KEY = '44257136-dfc34124ab45074cb7ae2d95f';\nconst URL = `https://pixabay.com/api`;\n\nform.addEventListener('submit', handleSubmit);\nasync function handleSubmit(event) {\n  event.preventDefault();\n  const value = input.value.trim();\n  if (value == '') {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Please fill out the search bar',\n    });\n    return;\n  }\n\n  loader.style.display = 'block';\n  gallery.innerHTML = '';\n\n  try {\n    const response = await axios.get(URL, {\n      params: {\n        key: API_KEY,\n        q: value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    const images = response.data.hits;\n\n    if (images.length === 0) {\n      iziToast.info({\n        position: 'topRight',\n        title: 'No Results',\n        message: 'Sorry... No results were found for your request',\n      });\n    } else {\n      const galleryHTML = images\n        .map(image => {\n          return `<li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            <ul class=\"descr-list\">\n              <li class=\"descr-item\">\n                <p class=\"category\">Likes</p>\n                <p class=\"value\">${image.likes}</p>\n              </li>\n              <li class=\"descr-item\">\n                <p class=\"category\">Views</p>\n                <p class=\"value\">${image.views}</p>\n              </li>\n              <li class=\"descr-item\">\n                <p class=\"category\">Comments</p>\n                <p class=\"value\">${image.comments}</p>\n              </li>\n              <li class=\"descr-item\">\n                <p class=\"category\">Downloads</p>\n                <p class=\"value\">${image.downloads}</p>\n              </li>\n            </ul>\n          </a>\n          </li>\n        `;\n        })\n        .join('');\n      gallery.innerHTML = galleryHTML;\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    }\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n"],"names":["form","input","gallery","loader","API_KEY","URL","handleSubmit","event","value","iziToast","images","axios","galleryHTML","image","SimpleLightbox"],"mappings":"+vBAMA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,qCACVC,EAAM,0BAEZL,EAAK,iBAAiB,SAAUM,CAAY,EAC5C,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAQP,EAAM,MAAM,KAAI,EAC9B,GAAIO,GAAS,GAAI,CACfC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,gCACf,CAAK,EACD,MACD,CAEDN,EAAO,MAAM,QAAU,QACvBD,EAAQ,UAAY,GAEpB,GAAI,CAWF,MAAMQ,GAVW,MAAMC,EAAM,IAAIN,EAAK,CACpC,OAAQ,CACN,IAAKD,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEuB,KAAK,KAE7B,GAAIE,EAAO,SAAW,EACpBD,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,aACP,QAAS,iDACjB,CAAO,MACI,CACL,MAAMG,EAAcF,EACjB,IAAIG,GACI;AAAA,qBACIA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,mCAI3BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMzC,EACA,KAAK,EAAE,EACVX,EAAQ,UAAYU,EACH,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACjB,CACF,MAAe,CACdL,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRN,EAAO,MAAM,QAAU,MACxB,CACH"}